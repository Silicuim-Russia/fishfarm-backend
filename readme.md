# Backend –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –±–µ–∫–µ–Ω–¥–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∑–∞ –∞–∫–≤–∞–∫—É–ª—å—Ç—É—Ä–æ–π –∏ –µ–≥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö.
- Frontend —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∑–∞ –∞–∫–≤–∞–∫—É–ª—å—Ç—É—Ä–æ–π https://github.com/noobweer/fishfarm-frontend

### **–£—Å—Ç–Ω–æ–≤–∫–∞ –Ω–∞ Windowns/Ubuntu**
- –î–µ–ª–∞–µ—Ç—Å—èü•∞

### **API Endpoints**

**POST login/**
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç JSON –∏–∑ username, password, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤–µ—Ä–Ω—ã, —Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON –∏–∑ access, refresh —Ç–æ–∫–µ–Ω–æ–≤.
###### –ó–∞–ø—Ä–æ—Å
```json
{
  "username": "–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
  "password": "–ü–∞—Ä–æ–ª—å"
}
```
###### –û—Ç–≤–µ—Ç
```json
{
  "refresh": "–ó–Ω–∞—á–µ–Ω–∏–µ refresh —Ç–æ–∫–µ–Ω–∞",
  "access": "–ó–Ω–∞—á–µ–Ω–∏–µ access —Ç–æ–∫–µ–Ω–∞"
}
```

**POST token/refresh/**
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç JSON —Å refresh —Ç–æ–∫–µ–Ω–æ–º, –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–∞–ª–∏–¥–Ω—ã–π access —Ç–æ–∫–µ–Ω.
###### –ó–∞–ø—Ä–æ—Å
```json
{	
  "refresh":"–∑–Ω–∞—á–µ–Ω–∏–µ refresh —Ç–æ–∫–µ–Ω–∞"
}
```
###### –û—Ç–≤–µ—Ç
```json
{
  "access": "–ó–Ω–∞—á–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ access —Ç–æ–∫–µ–Ω–∞"
}
```

**GET all-pools/**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö –±–∞—Å—Å–µ–π–Ω–æ–≤ —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ pool_id, pool_name, pool_desc.
###### –û—Ç–≤–µ—Ç
```json
{
  "data_type": "[{'pool_id': 1, 'pool_name': '–ë–∞—Å—Å–µ–π–Ω ‚Ññ1', 'pool_desc': '–†—è–¥ 1, —Å–µ–∫—Ü–∏—è 3'}, {'pool_id': 2, 'pool_name': '–ë–∞—Å—Å–µ–π–Ω ‚Ññ2', 'pool_desc': '–†—è–¥ 2, —Å–µ–∫—Ü–∏—è 3'}]"
}
```

**GET status/**
- –û–±—è–∑–∞—Ç–µ–ª–µ–Ω query parametr pool_id.
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON c pool_id, timestamp, –¥–∞—Ç—á–∏–∫–∞–º–∏ –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ (sensor_id, min_value, max_value, value, zone).
###### Query parametr
```text
pool_id=2
```
###### –û—Ç–≤–µ—Ç
```json
{
  "pool_id": 2,
  "timestamp": "2025-03-01T12:17:53.855673Z",
  "temperature": {
    "sensor_id": null,
    "min_value": 10,
    "max_value": 24,
    "value": 3,
    "zone": "red"
  }
}
```

**POST update/**
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç JSON —Å pool_id, sensor, minValue, maxValue
- –ú–µ–Ω—è–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ/–º–∞–∫–∏—Å–º–∞–ª—å–Ω–æ –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–∞—Ç—á–∏–∫–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å is_updated, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω, —á—Ç–æ –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–Ω–æ –∏–ª–∏ –Ω–µ—Ç, –∞ —Ç–∞–∫–∂–µ message —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º.
###### –ó–∞–ø—Ä–æ—Å
```json
{
  "pool_id": 2,
  "sensor": "temperature",
  "minValue": 15,
  "maxValue": 40
}
```

###### –û—Ç–≤–µ—Ç
```json
{
  "is_updated": true,
  "message": "pool_data 2 changed category:temperature"
}
```
**POST setting/**
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç JSON c pool_id, pool_name, pool_desc, —á—Ç–æ–±—ã –ø–æ–º–µ–Ω—è—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏–µ –±–∞—Å—Å–µ–π–Ω–∞.
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å is_updated, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω, —á—Ç–æ –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–Ω–æ –∏–ª–∏ –Ω–µ—Ç, –∞ —Ç–∞–∫–∂–µ message —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º.
###### –ó–∞–ø—Ä–æ—Å
```json
{
  "pool_id": "1",
  "pool_name": "–ë–∞—Å—Å–µ–π–Ω ‚Ññ1",
  "pool_desc": "–†—è–¥ 1, –°–µ–∫—Ü–∏—è 3"
}
```
###### –û—Ç–≤–µ—Ç
```json
{
  "is_updated": true,
  "message": "pool 1 changed"
}
```

**POST sensors-data/**
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç JSON —Å pool_id –∏ –¥–∞—Ç—á–∏–∫–∞–º–∏ —Å –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è–º–∏.
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å is_success, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω, —á—Ç–æ –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–Ω–æ –∏–ª–∏ –Ω–µ—Ç.
###### –ó–∞–ø—Ä–æ—Å
```json
{
  "pool_id": 1,
  "temperature": 25.3
}
```
###### –û—Ç–≤–µ—Ç
```json
{
  "is_success": true
}
```
**POST thing-state/**
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç JSON —Å pool_id, thing_name.
- –æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å is_success, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω, —á—Ç–æ –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–Ω–æ –∏–ª–∏ –Ω–µ—Ç, –∞ —Ç–∞–∫–∂–µ –±—É–ª–µ–≤—ã–π state, –≤ –∫–æ—Ç–æ—Ä–æ–º false = –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –í–´–ö–õ, –∞ true = –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –í–ö–õ. 
###### –ó–∞–ø—Ä–æ—Å
```json
{
  "pool_id": 1,
  "thing_name": "freezer"
}
```
###### –û—Ç–≤–µ—Ç
```json
{
  "is_success": true,
  "state": false
}
```